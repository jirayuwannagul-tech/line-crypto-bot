# tests/test_keyword_reply.py
import pytest
from app.features.replies.keyword_reply import get_reply, parse_price_command

def test_get_reply_keywords():
    assert get_reply("à¸ªà¸§à¸±à¸ªà¸”à¸µ") is not None
    assert get_reply("btc") == "BTC à¸™à¸µà¹ˆà¸¡à¸±à¸™à¸„à¸²à¸ªà¸´à¹‚à¸™à¸Šà¸±à¸” à¹† ğŸ°"
    assert get_reply("à¹„à¸¡à¹ˆà¸£à¸¹à¹‰à¸ˆà¸±à¸") is None

def test_parse_price_command_basic():
    assert parse_price_command("à¸£à¸²à¸„à¸² BTC") == "BTCUSDT"
    assert parse_price_command("price eth") == "ETHUSDT"
    assert parse_price_command("à¸£à¸²à¸„à¸² BTCUSDT") == "BTCUSDT"

def test_parse_price_command_invalid():
    assert parse_price_command("hello world") is None
    assert parse_price_command("") is None

def test_get_reply_keywords():
    assert get_reply("à¸ªà¸§à¸±à¸ªà¸”à¸µ") is not None
    # à¹€à¸”à¸´à¸¡: assert get_reply("btc") == "BTC à¸™à¸µà¹ˆà¸¡à¸±à¸™à¸„à¸²à¸ªà¸´à¹‚à¸™à¸Šà¸±à¸” à¹† ğŸ°"
    assert get_reply("btc") is None
