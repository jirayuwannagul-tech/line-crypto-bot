[
    {
        "period": "May 2021",
        "expected": "wave 5 end",
        "detected": "{'pattern': 'DOUBLE_THREE', 'completed': False, 'current': {'stage': 'WXY_partial', 'direction': 'side'}, 'next': {'stage': 'continue', 'direction': 'side'}, 'targets': {}, 'debug': {'swings': [{'idx': 2, 'timestamp': 1355, 'price': 58981.44, 'type': 'H'}, {'idx': 4, 'timestamp': 1357, 'price': 52900.0, 'type': 'L'}, {'idx': 7, 'timestamp': 1360, 'price': 59500.0, 'type': 'H'}, {'idx': 18, 'timestamp': 1371, 'price': 30000.0, 'type': 'L'}, {'idx': 25, 'timestamp': 1378, 'price': 40841.0, 'type': 'H'}]}}",
        "result": "❌ Incorrect"
    },
    {
        "period": "May 2021",
        "expected": "wave 5 end",
        "detected": "{'pattern': 'DOUBLE_THREE', 'completed': False, 'current': {'stage': 'WXY_partial', 'direction': 'side'}, 'next': {'stage': 'continue', 'direction': 'side'}, 'targets': {}, 'debug': {'swings': [{'idx': 2, 'timestamp': 1355, 'price': 58981.44, 'type': 'H'}, {'idx': 4, 'timestamp': 1357, 'price': 52900.0, 'type': 'L'}, {'idx': 7, 'timestamp': 1360, 'price': 59500.0, 'type': 'H'}, {'idx': 18, 'timestamp': 1371, 'price': 30000.0, 'type': 'L'}, {'idx': 25, 'timestamp': 1378, 'price': 40841.0, 'type': 'H'}]}}",
        "result": "❌ Incorrect"
    },
    {
        "period": "May 2021",
        "expected": "wave 5 end",
        "detected": "{'pattern': 'UNKNOWN', 'completed': False, 'current': {'stage': 'undetermined', 'direction': 'side'}, 'next': {'stage': 'await_more_data', 'direction': 'side'}, 'targets': {}, 'debug': {'reason': 'no_swings'}}",
        "result": "❌ Incorrect"
    },
    {
        "period": "May 2021",
        "expected": "wave 5 end",
        "detected": "{'pattern': 'UNKNOWN', 'completed': False, 'current': {'stage': 'undetermined', 'direction': 'side'}, 'next': {'stage': 'await_more_data', 'direction': 'side'}, 'targets': {}, 'debug': {'reason': 'no_swings'}}",
        "result": "❌ Incorrect"
    },
    {
        "period": "May 2021",
        "expected": "wave 5 end",
        "detected": "{'pattern': 'DOUBLE_THREE', 'completed': False, 'current': {'stage': 'WXY_partial', 'direction': 'side'}, 'next': {'stage': 'continue', 'direction': 'side'}, 'targets': {}, 'debug': {'swings': [{'idx': 2, 'timestamp': 1355, 'price': 58981.44, 'type': 'H'}, {'idx': 4, 'timestamp': 1357, 'price': 52900.0, 'type': 'L'}, {'idx': 7, 'timestamp': 1360, 'price': 59500.0, 'type': 'H'}, {'idx': 18, 'timestamp': 1371, 'price': 30000.0, 'type': 'L'}, {'idx': 25, 'timestamp': 1378, 'price': 40841.0, 'type': 'H'}]}}",
        "result": "❌ Incorrect",
        "meta": {
            "timeframe": "D",
            "candles": 31,
            "debug_reason": ""
        }
    },
    {
        "period": "May 2021",
        "expected": "wave 5 end",
        "detected": "{'pattern': 'DOUBLE_THREE', 'completed': False, 'current': {'stage': 'WXY_partial', 'direction': 'side'}, 'next': {'stage': 'continue', 'direction': 'side'}, 'targets': {}, 'debug': {'swings': [{'idx': 2, 'timestamp': 1355, 'price': 58981.44, 'type': 'H'}, {'idx': 4, 'timestamp': 1357, 'price': 52900.0, 'type': 'L'}, {'idx': 7, 'timestamp': 1360, 'price': 59500.0, 'type': 'H'}, {'idx': 18, 'timestamp': 1371, 'price': 30000.0, 'type': 'L'}, {'idx': 25, 'timestamp': 1378, 'price': 40841.0, 'type': 'H'}]}}",
        "result": "❌ Incorrect",
        "meta": {
            "timeframe": "D",
            "candles": 31,
            "debug_reason": ""
        }
    },
    {
        "period": "May 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "CORRECTION",
        "detected_raw": {
            "pattern": "DOUBLE_THREE",
            "completed": false,
            "current": {
                "stage": "WXY_partial",
                "direction": "side"
            },
            "next": {
                "stage": "continue",
                "direction": "side"
            },
            "targets": {},
            "debug": {
                "swings": [
                    {
                        "idx": 2,
                        "timestamp": 191,
                        "price": 64854.0,
                        "type": "H"
                    },
                    {
                        "idx": 3,
                        "timestamp": 192,
                        "price": 46930.0,
                        "type": "L"
                    },
                    {
                        "idx": 5,
                        "timestamp": 194,
                        "price": 59500.0,
                        "type": "H"
                    },
                    {
                        "idx": 7,
                        "timestamp": 196,
                        "price": 30000.0,
                        "type": "L"
                    }
                ]
            }
        },
        "meta": {
            "timeframe": "W",
            "candles": 13,
            "min_swing_pct": 6.0,
            "debug_reason": "-"
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "May 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "CORRECTION",
        "detected_raw": {
            "pattern": "DOUBLE_THREE",
            "completed": false,
            "current": {
                "stage": "WXY_partial",
                "direction": "side"
            },
            "next": {
                "stage": "continue",
                "direction": "side"
            },
            "targets": {},
            "debug": {
                "swings": [
                    {
                        "idx": 2,
                        "timestamp": 191,
                        "price": 64854.0,
                        "type": "H"
                    },
                    {
                        "idx": 3,
                        "timestamp": 192,
                        "price": 46930.0,
                        "type": "L"
                    },
                    {
                        "idx": 5,
                        "timestamp": 194,
                        "price": 59500.0,
                        "type": "H"
                    },
                    {
                        "idx": 7,
                        "timestamp": 196,
                        "price": 30000.0,
                        "type": "L"
                    }
                ]
            }
        },
        "meta": {
            "timeframe": "W",
            "candles": 13,
            "min_swing_pct": 6.0,
            "debug_reason": "-"
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "May 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 31833.5227,
                "post_impulse_retrace_50%": 32622.925,
                "post_impulse_retrace_61.8%": 33412.3273
            },
            "debug": {
                "swings": [
                    {
                        "idx": 105,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1412,
                        "price": 36600.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1415,
                        "price": 32699.0,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1417,
                        "price": 35967.85,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1421,
                        "price": 32077.0,
                        "type": "L"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1425,
                        "price": 34678.43,
                        "type": "H"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1429,
                        "price": 31020.0,
                        "type": "L"
                    },
                    {
                        "idx": 138,
                        "timestamp": 1431,
                        "price": 32435.0,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1433,
                        "price": 29278.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    132,
                    136,
                    138,
                    140
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    35967.85,
                    32077.0,
                    34678.43,
                    31020.0,
                    32435.0,
                    29278.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 3890.8499999999985,
                    "w2": 2601.4300000000003,
                    "w3": 3658.4300000000003,
                    "w4": 1415.0,
                    "w5": 3157.0
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5,
            "debug_reason": "-"
        },
        "result": "✅ Correct"
    },
    {
        "period": "May 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 31833.5227,
                "post_impulse_retrace_50%": 32622.925,
                "post_impulse_retrace_61.8%": 33412.3273
            },
            "debug": {
                "swings": [
                    {
                        "idx": 105,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1412,
                        "price": 36600.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1415,
                        "price": 32699.0,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1417,
                        "price": 35967.85,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1421,
                        "price": 32077.0,
                        "type": "L"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1425,
                        "price": 34678.43,
                        "type": "H"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1429,
                        "price": 31020.0,
                        "type": "L"
                    },
                    {
                        "idx": 138,
                        "timestamp": 1431,
                        "price": 32435.0,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1433,
                        "price": 29278.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    132,
                    136,
                    138,
                    140
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    35967.85,
                    32077.0,
                    34678.43,
                    31020.0,
                    32435.0,
                    29278.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 3890.8499999999985,
                    "w2": 2601.4300000000003,
                    "w3": 3658.4300000000003,
                    "w4": 1415.0,
                    "w5": 3157.0
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5,
            "debug_reason": "-"
        },
        "result": "✅ Correct"
    },
    {
        "period": "May 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 31833.5227,
                "post_impulse_retrace_50%": 32622.925,
                "post_impulse_retrace_61.8%": 33412.3273
            },
            "debug": {
                "swings": [
                    {
                        "idx": 105,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1412,
                        "price": 36600.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1415,
                        "price": 32699.0,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1417,
                        "price": 35967.85,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1421,
                        "price": 32077.0,
                        "type": "L"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1425,
                        "price": 34678.43,
                        "type": "H"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1429,
                        "price": 31020.0,
                        "type": "L"
                    },
                    {
                        "idx": 138,
                        "timestamp": 1431,
                        "price": 32435.0,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1433,
                        "price": 29278.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    132,
                    136,
                    138,
                    140
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    35967.85,
                    32077.0,
                    34678.43,
                    31020.0,
                    32435.0,
                    29278.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 3890.8499999999985,
                    "w2": 2601.4300000000003,
                    "w3": 3658.4300000000003,
                    "w4": 1415.0,
                    "w5": 3157.0
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5,
            "debug_reason": "-"
        },
        "result": "✅ Correct"
    },
    {
        "period": "May 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 31833.5227,
                "post_impulse_retrace_50%": 32622.925,
                "post_impulse_retrace_61.8%": 33412.3273
            },
            "debug": {
                "swings": [
                    {
                        "idx": 105,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1412,
                        "price": 36600.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1415,
                        "price": 32699.0,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1417,
                        "price": 35967.85,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1421,
                        "price": 32077.0,
                        "type": "L"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1425,
                        "price": 34678.43,
                        "type": "H"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1429,
                        "price": 31020.0,
                        "type": "L"
                    },
                    {
                        "idx": 138,
                        "timestamp": 1431,
                        "price": 32435.0,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1433,
                        "price": 29278.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    132,
                    136,
                    138,
                    140
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    35967.85,
                    32077.0,
                    34678.43,
                    31020.0,
                    32435.0,
                    29278.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 3890.8499999999985,
                    "w2": 2601.4300000000003,
                    "w3": 3658.4300000000003,
                    "w4": 1415.0,
                    "w5": 3157.0
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Nov 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 38942.33218,
                "post_impulse_retrace_50%": 40003.505000000005,
                "post_impulse_retrace_61.8%": 41064.67782
            },
            "debug": {
                "swings": [
                    {
                        "idx": 89,
                        "timestamp": 1566,
                        "price": 59176.99,
                        "type": "H"
                    },
                    {
                        "idx": 93,
                        "timestamp": 1570,
                        "price": 42000.3,
                        "type": "L"
                    },
                    {
                        "idx": 96,
                        "timestamp": 1573,
                        "price": 51936.33,
                        "type": "H"
                    },
                    {
                        "idx": 106,
                        "timestamp": 1583,
                        "price": 45456.0,
                        "type": "L"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1593,
                        "price": 52088.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1607,
                        "price": 39650.0,
                        "type": "L"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1610,
                        "price": 44500.0,
                        "type": "H"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1611,
                        "price": 41725.95,
                        "type": "L"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1617,
                        "price": 43505.0,
                        "type": "H"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1621,
                        "price": 32917.17,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1623,
                        "price": 38919.98,
                        "type": "H"
                    },
                    {
                        "idx": 147,
                        "timestamp": 1624,
                        "price": 35507.01,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    133,
                    134,
                    140,
                    144,
                    146,
                    147
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    44500.0,
                    41725.95,
                    43505.0,
                    32917.17,
                    38919.98,
                    35507.01
                ],
                "overlap": false,
                "legs": {
                    "w1": 2774.050000000003,
                    "w2": 1779.050000000003,
                    "w3": 10587.830000000002,
                    "w4": 6002.810000000005,
                    "w5": 3412.970000000001
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Jun 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "up"
            },
            "next": {
                "stage": "corrective_A",
                "direction": "up"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 21709.0,
                "post_impulse_retrace_50%": 21650.0,
                "post_impulse_retrace_61.8%": 21591.0
            },
            "debug": {
                "swings": [
                    {
                        "idx": 92,
                        "timestamp": 1781,
                        "price": 18781.0,
                        "type": "L"
                    },
                    {
                        "idx": 97,
                        "timestamp": 1786,
                        "price": 22527.37,
                        "type": "H"
                    },
                    {
                        "idx": 102,
                        "timestamp": 1791,
                        "price": 18910.94,
                        "type": "L"
                    },
                    {
                        "idx": 109,
                        "timestamp": 1798,
                        "price": 24276.74,
                        "type": "H"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1804,
                        "price": 20706.5,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1808,
                        "price": 24668.0,
                        "type": "H"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1813,
                        "price": 22400.0,
                        "type": "L"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1817,
                        "price": 24245.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1819,
                        "price": 22664.69,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1824,
                        "price": 25211.32,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1829,
                        "price": 20761.9,
                        "type": "L"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1833,
                        "price": 21900.0,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    130,
                    135,
                    140,
                    144
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    22400.0,
                    24245.0,
                    22664.69,
                    25211.32,
                    20761.9,
                    21900.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 1845.0,
                    "w2": 1580.3100000000013,
                    "w3": 2546.630000000001,
                    "w4": 4449.419999999998,
                    "w5": 1138.0999999999985
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Aug 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 20181.50562,
                "post_impulse_retrace_50%": 20237.545,
                "post_impulse_retrace_61.8%": 20293.58438
            },
            "debug": {
                "swings": [
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 19956.0,
                        "type": "H"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 18125.98,
                        "type": "L"
                    },
                    {
                        "idx": 117,
                        "timestamp": 1867,
                        "price": 20385.86,
                        "type": "H"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1868,
                        "price": 18471.28,
                        "type": "L"
                    },
                    {
                        "idx": 120,
                        "timestamp": 1870,
                        "price": 20185.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1872,
                        "price": 18920.35,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1874,
                        "price": 20475.0,
                        "type": "H"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1883,
                        "price": 18190.0,
                        "type": "L"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1884,
                        "price": 19951.87,
                        "type": "H"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1891,
                        "price": 18650.0,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1896,
                        "price": 21020.0,
                        "type": "H"
                    },
                    {
                        "idx": 148,
                        "timestamp": 1898,
                        "price": 20000.09,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    133,
                    134,
                    141,
                    146,
                    148
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    20475.0,
                    18190.0,
                    19951.87,
                    18650.0,
                    21020.0,
                    20000.09
                ],
                "overlap": true,
                "legs": {
                    "w1": 2285.0,
                    "w2": 1761.869999999999,
                    "w3": 1301.869999999999,
                    "w4": 2370.0,
                    "w5": 1019.9099999999999
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "May 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 31833.5227,
                "post_impulse_retrace_50%": 32622.925,
                "post_impulse_retrace_61.8%": 33412.3273
            },
            "debug": {
                "swings": [
                    {
                        "idx": 105,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1412,
                        "price": 36600.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1415,
                        "price": 32699.0,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1417,
                        "price": 35967.85,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1421,
                        "price": 32077.0,
                        "type": "L"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1425,
                        "price": 34678.43,
                        "type": "H"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1429,
                        "price": 31020.0,
                        "type": "L"
                    },
                    {
                        "idx": 138,
                        "timestamp": 1431,
                        "price": 32435.0,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1433,
                        "price": 29278.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    132,
                    136,
                    138,
                    140
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    35967.85,
                    32077.0,
                    34678.43,
                    31020.0,
                    32435.0,
                    29278.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 3890.8499999999985,
                    "w2": 2601.4300000000003,
                    "w3": 3658.4300000000003,
                    "w4": 1415.0,
                    "w5": 3157.0
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Nov 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 38942.33218,
                "post_impulse_retrace_50%": 40003.505000000005,
                "post_impulse_retrace_61.8%": 41064.67782
            },
            "debug": {
                "swings": [
                    {
                        "idx": 89,
                        "timestamp": 1566,
                        "price": 59176.99,
                        "type": "H"
                    },
                    {
                        "idx": 93,
                        "timestamp": 1570,
                        "price": 42000.3,
                        "type": "L"
                    },
                    {
                        "idx": 96,
                        "timestamp": 1573,
                        "price": 51936.33,
                        "type": "H"
                    },
                    {
                        "idx": 106,
                        "timestamp": 1583,
                        "price": 45456.0,
                        "type": "L"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1593,
                        "price": 52088.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1607,
                        "price": 39650.0,
                        "type": "L"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1610,
                        "price": 44500.0,
                        "type": "H"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1611,
                        "price": 41725.95,
                        "type": "L"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1617,
                        "price": 43505.0,
                        "type": "H"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1621,
                        "price": 32917.17,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1623,
                        "price": 38919.98,
                        "type": "H"
                    },
                    {
                        "idx": 147,
                        "timestamp": 1624,
                        "price": 35507.01,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    133,
                    134,
                    140,
                    144,
                    146,
                    147
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    44500.0,
                    41725.95,
                    43505.0,
                    32917.17,
                    38919.98,
                    35507.01
                ],
                "overlap": false,
                "legs": {
                    "w1": 2774.050000000003,
                    "w2": 1779.050000000003,
                    "w3": 10587.830000000002,
                    "w4": 6002.810000000005,
                    "w5": 3412.970000000001
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Jun 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "up"
            },
            "next": {
                "stage": "corrective_A",
                "direction": "up"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 21709.0,
                "post_impulse_retrace_50%": 21650.0,
                "post_impulse_retrace_61.8%": 21591.0
            },
            "debug": {
                "swings": [
                    {
                        "idx": 92,
                        "timestamp": 1781,
                        "price": 18781.0,
                        "type": "L"
                    },
                    {
                        "idx": 97,
                        "timestamp": 1786,
                        "price": 22527.37,
                        "type": "H"
                    },
                    {
                        "idx": 102,
                        "timestamp": 1791,
                        "price": 18910.94,
                        "type": "L"
                    },
                    {
                        "idx": 109,
                        "timestamp": 1798,
                        "price": 24276.74,
                        "type": "H"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1804,
                        "price": 20706.5,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1808,
                        "price": 24668.0,
                        "type": "H"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1813,
                        "price": 22400.0,
                        "type": "L"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1817,
                        "price": 24245.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1819,
                        "price": 22664.69,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1824,
                        "price": 25211.32,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1829,
                        "price": 20761.9,
                        "type": "L"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1833,
                        "price": 21900.0,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    130,
                    135,
                    140,
                    144
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    22400.0,
                    24245.0,
                    22664.69,
                    25211.32,
                    20761.9,
                    21900.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 1845.0,
                    "w2": 1580.3100000000013,
                    "w3": 2546.630000000001,
                    "w4": 4449.419999999998,
                    "w5": 1138.0999999999985
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Aug 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 20181.50562,
                "post_impulse_retrace_50%": 20237.545,
                "post_impulse_retrace_61.8%": 20293.58438
            },
            "debug": {
                "swings": [
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 19956.0,
                        "type": "H"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 18125.98,
                        "type": "L"
                    },
                    {
                        "idx": 117,
                        "timestamp": 1867,
                        "price": 20385.86,
                        "type": "H"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1868,
                        "price": 18471.28,
                        "type": "L"
                    },
                    {
                        "idx": 120,
                        "timestamp": 1870,
                        "price": 20185.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1872,
                        "price": 18920.35,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1874,
                        "price": 20475.0,
                        "type": "H"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1883,
                        "price": 18190.0,
                        "type": "L"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1884,
                        "price": 19951.87,
                        "type": "H"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1891,
                        "price": 18650.0,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1896,
                        "price": 21020.0,
                        "type": "H"
                    },
                    {
                        "idx": 148,
                        "timestamp": 1898,
                        "price": 20000.09,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    133,
                    134,
                    141,
                    146,
                    148
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    20475.0,
                    18190.0,
                    19951.87,
                    18650.0,
                    21020.0,
                    20000.09
                ],
                "overlap": true,
                "legs": {
                    "w1": 2285.0,
                    "w2": 1761.869999999999,
                    "w3": 1301.869999999999,
                    "w4": 2370.0,
                    "w5": 1019.9099999999999
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Oct 2020",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 22551.114,
                "post_impulse_retrace_50%": 22778.5,
                "post_impulse_retrace_61.8%": 23005.886
            },
            "debug": {
                "swings": [
                    {
                        "idx": 92,
                        "timestamp": 1173,
                        "price": 13195.05,
                        "type": "L"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1192,
                        "price": 18965.9,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1193,
                        "price": 17610.86,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1196,
                        "price": 19484.21,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1197,
                        "price": 16188.0,
                        "type": "L"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1202,
                        "price": 19888.0,
                        "type": "H"
                    },
                    {
                        "idx": 125,
                        "timestamp": 1206,
                        "price": 18500.0,
                        "type": "L"
                    },
                    {
                        "idx": 127,
                        "timestamp": 1208,
                        "price": 19420.91,
                        "type": "H"
                    },
                    {
                        "idx": 131,
                        "timestamp": 1212,
                        "price": 17572.33,
                        "type": "L"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1221,
                        "price": 24295.0,
                        "type": "H"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1222,
                        "price": 21815.0,
                        "type": "L"
                    },
                    {
                        "idx": 147,
                        "timestamp": 1228,
                        "price": 28422.0,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    121,
                    125,
                    127,
                    131,
                    140,
                    141
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    19888.0,
                    18500.0,
                    19420.91,
                    17572.33,
                    24295.0,
                    21815.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 1388.0,
                    "w2": 920.9099999999999,
                    "w3": 1848.579999999998,
                    "w4": 6722.669999999998,
                    "w5": 2480.0
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Jan 2021",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "up"
            },
            "next": {
                "stage": "corrective_A",
                "direction": "up"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 53586.32146,
                "post_impulse_retrace_50%": 51564.985,
                "post_impulse_retrace_61.8%": 49543.64854
            },
            "debug": {
                "swings": [
                    {
                        "idx": 84,
                        "timestamp": 1257,
                        "price": 34875.0,
                        "type": "H"
                    },
                    {
                        "idx": 86,
                        "timestamp": 1259,
                        "price": 29241.72,
                        "type": "L"
                    },
                    {
                        "idx": 88,
                        "timestamp": 1261,
                        "price": 38531.9,
                        "type": "H"
                    },
                    {
                        "idx": 105,
                        "timestamp": 1278,
                        "price": 45570.79,
                        "type": "L"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1284,
                        "price": 58352.8,
                        "type": "H"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1291,
                        "price": 43000.0,
                        "type": "L"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1294,
                        "price": 52640.0,
                        "type": "H"
                    },
                    {
                        "idx": 123,
                        "timestamp": 1296,
                        "price": 46300.0,
                        "type": "L"
                    },
                    {
                        "idx": 131,
                        "timestamp": 1304,
                        "price": 61844.0,
                        "type": "H"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1307,
                        "price": 53271.34,
                        "type": "L"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1309,
                        "price": 60129.97,
                        "type": "H"
                    },
                    {
                        "idx": 143,
                        "timestamp": 1316,
                        "price": 50427.56,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    118,
                    121,
                    123,
                    131,
                    134,
                    136
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    43000.0,
                    52640.0,
                    46300.0,
                    61844.0,
                    53271.34,
                    60129.97
                ],
                "overlap": false,
                "legs": {
                    "w1": 9640.0,
                    "w2": 6340.0,
                    "w3": 15544.0,
                    "w4": 8572.660000000003,
                    "w5": 6858.630000000005
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Apr 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "up"
            },
            "next": {
                "stage": "corrective_A",
                "direction": "up"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 33781.0,
                "post_impulse_retrace_50%": 33250.0,
                "post_impulse_retrace_61.8%": 32719.0
            },
            "debug": {
                "swings": [
                    {
                        "idx": 97,
                        "timestamp": 1360,
                        "price": 59500.0,
                        "type": "H"
                    },
                    {
                        "idx": 108,
                        "timestamp": 1371,
                        "price": 30000.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1378,
                        "price": 40841.0,
                        "type": "H"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1382,
                        "price": 33379.0,
                        "type": "L"
                    },
                    {
                        "idx": 123,
                        "timestamp": 1386,
                        "price": 39476.0,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1391,
                        "price": 31000.0,
                        "type": "L"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1393,
                        "price": 38491.0,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1395,
                        "price": 34600.36,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 142,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    128,
                    130,
                    132,
                    135,
                    142,
                    145
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    31000.0,
                    38491.0,
                    34600.36,
                    41330.0,
                    28805.0,
                    35500.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 7491.0,
                    "w2": 3890.6399999999994,
                    "w3": 6729.639999999999,
                    "w4": 12525.0,
                    "w5": 6695.0
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "May 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 31833.5227,
                "post_impulse_retrace_50%": 32622.925,
                "post_impulse_retrace_61.8%": 33412.3273
            },
            "debug": {
                "swings": [
                    {
                        "idx": 105,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1412,
                        "price": 36600.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1415,
                        "price": 32699.0,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1417,
                        "price": 35967.85,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1421,
                        "price": 32077.0,
                        "type": "L"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1425,
                        "price": 34678.43,
                        "type": "H"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1429,
                        "price": 31020.0,
                        "type": "L"
                    },
                    {
                        "idx": 138,
                        "timestamp": 1431,
                        "price": 32435.0,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1433,
                        "price": 29278.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    132,
                    136,
                    138,
                    140
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    35967.85,
                    32077.0,
                    34678.43,
                    31020.0,
                    32435.0,
                    29278.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 3890.8499999999985,
                    "w2": 2601.4300000000003,
                    "w3": 3658.4300000000003,
                    "w4": 1415.0,
                    "w5": 3157.0
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Sep 2021",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 60543.906,
                "post_impulse_retrace_50%": 62158.5,
                "post_impulse_retrace_61.8%": 63773.094
            },
            "debug": {
                "swings": [
                    {
                        "idx": 117,
                        "timestamp": 1533,
                        "price": 57820.0,
                        "type": "L"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1534,
                        "price": 62980.0,
                        "type": "H"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1537,
                        "price": 59405.0,
                        "type": "L"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1538,
                        "price": 64270.0,
                        "type": "H"
                    },
                    {
                        "idx": 126,
                        "timestamp": 1542,
                        "price": 60050.0,
                        "type": "L"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1546,
                        "price": 69000.0,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1548,
                        "price": 62278.0,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1551,
                        "price": 66401.82,
                        "type": "H"
                    },
                    {
                        "idx": 139,
                        "timestamp": 1555,
                        "price": 55600.0,
                        "type": "L"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1557,
                        "price": 60029.76,
                        "type": "H"
                    },
                    {
                        "idx": 143,
                        "timestamp": 1559,
                        "price": 55317.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1561,
                        "price": 59398.9,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    130,
                    132,
                    135,
                    139,
                    141,
                    143
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    69000.0,
                    62278.0,
                    66401.82,
                    55600.0,
                    60029.76,
                    55317.0
                ],
                "overlap": false,
                "legs": {
                    "w1": 6722.0,
                    "w2": 4123.820000000007,
                    "w3": 10801.820000000007,
                    "w4": 4429.760000000002,
                    "w5": 4712.760000000002
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Nov 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 38942.33218,
                "post_impulse_retrace_50%": 40003.505000000005,
                "post_impulse_retrace_61.8%": 41064.67782
            },
            "debug": {
                "swings": [
                    {
                        "idx": 89,
                        "timestamp": 1566,
                        "price": 59176.99,
                        "type": "H"
                    },
                    {
                        "idx": 93,
                        "timestamp": 1570,
                        "price": 42000.3,
                        "type": "L"
                    },
                    {
                        "idx": 96,
                        "timestamp": 1573,
                        "price": 51936.33,
                        "type": "H"
                    },
                    {
                        "idx": 106,
                        "timestamp": 1583,
                        "price": 45456.0,
                        "type": "L"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1593,
                        "price": 52088.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1607,
                        "price": 39650.0,
                        "type": "L"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1610,
                        "price": 44500.0,
                        "type": "H"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1611,
                        "price": 41725.95,
                        "type": "L"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1617,
                        "price": 43505.0,
                        "type": "H"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1621,
                        "price": 32917.17,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1623,
                        "price": 38919.98,
                        "type": "H"
                    },
                    {
                        "idx": 147,
                        "timestamp": 1624,
                        "price": 35507.01,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    133,
                    134,
                    140,
                    144,
                    146,
                    147
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    44500.0,
                    41725.95,
                    43505.0,
                    32917.17,
                    38919.98,
                    35507.01
                ],
                "overlap": false,
                "legs": {
                    "w1": 2774.050000000003,
                    "w2": 1779.050000000003,
                    "w3": 10587.830000000002,
                    "w4": 6002.810000000005,
                    "w5": 3412.970000000001
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Jan 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 42351.98692,
                "post_impulse_retrace_50%": 42933.97,
                "post_impulse_retrace_61.8%": 43515.95308
            },
            "debug": {
                "swings": [
                    {
                        "idx": 93,
                        "timestamp": 1631,
                        "price": 36250.0,
                        "type": "L"
                    },
                    {
                        "idx": 100,
                        "timestamp": 1638,
                        "price": 45821.0,
                        "type": "H"
                    },
                    {
                        "idx": 104,
                        "timestamp": 1642,
                        "price": 41550.56,
                        "type": "L"
                    },
                    {
                        "idx": 105,
                        "timestamp": 1643,
                        "price": 44751.4,
                        "type": "H"
                    },
                    {
                        "idx": 114,
                        "timestamp": 1652,
                        "price": 34322.28,
                        "type": "L"
                    },
                    {
                        "idx": 120,
                        "timestamp": 1658,
                        "price": 45400.0,
                        "type": "H"
                    },
                    {
                        "idx": 125,
                        "timestamp": 1663,
                        "price": 37155.0,
                        "type": "L"
                    },
                    {
                        "idx": 127,
                        "timestamp": 1665,
                        "price": 42594.06,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1670,
                        "price": 37555.0,
                        "type": "L"
                    },
                    {
                        "idx": 137,
                        "timestamp": 1675,
                        "price": 42400.0,
                        "type": "H"
                    },
                    {
                        "idx": 139,
                        "timestamp": 1677,
                        "price": 40467.94,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1684,
                        "price": 48189.84,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    120,
                    125,
                    127,
                    132,
                    137,
                    139
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    45400.0,
                    37155.0,
                    42594.06,
                    37555.0,
                    42400.0,
                    40467.94
                ],
                "overlap": true,
                "legs": {
                    "w1": 8245.0,
                    "w2": 5439.059999999998,
                    "w3": 5039.059999999998,
                    "w4": 4845.0,
                    "w5": 1932.0599999999977
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Jun 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "up"
            },
            "next": {
                "stage": "corrective_A",
                "direction": "up"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 21709.0,
                "post_impulse_retrace_50%": 21650.0,
                "post_impulse_retrace_61.8%": 21591.0
            },
            "debug": {
                "swings": [
                    {
                        "idx": 92,
                        "timestamp": 1781,
                        "price": 18781.0,
                        "type": "L"
                    },
                    {
                        "idx": 97,
                        "timestamp": 1786,
                        "price": 22527.37,
                        "type": "H"
                    },
                    {
                        "idx": 102,
                        "timestamp": 1791,
                        "price": 18910.94,
                        "type": "L"
                    },
                    {
                        "idx": 109,
                        "timestamp": 1798,
                        "price": 24276.74,
                        "type": "H"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1804,
                        "price": 20706.5,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1808,
                        "price": 24668.0,
                        "type": "H"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1813,
                        "price": 22400.0,
                        "type": "L"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1817,
                        "price": 24245.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1819,
                        "price": 22664.69,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1824,
                        "price": 25211.32,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1829,
                        "price": 20761.9,
                        "type": "L"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1833,
                        "price": 21900.0,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    130,
                    135,
                    140,
                    144
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    22400.0,
                    24245.0,
                    22664.69,
                    25211.32,
                    20761.9,
                    21900.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 1845.0,
                    "w2": 1580.3100000000013,
                    "w3": 2546.630000000001,
                    "w4": 4449.419999999998,
                    "w5": 1138.0999999999985
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Aug 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 20181.50562,
                "post_impulse_retrace_50%": 20237.545,
                "post_impulse_retrace_61.8%": 20293.58438
            },
            "debug": {
                "swings": [
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 19956.0,
                        "type": "H"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 18125.98,
                        "type": "L"
                    },
                    {
                        "idx": 117,
                        "timestamp": 1867,
                        "price": 20385.86,
                        "type": "H"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1868,
                        "price": 18471.28,
                        "type": "L"
                    },
                    {
                        "idx": 120,
                        "timestamp": 1870,
                        "price": 20185.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1872,
                        "price": 18920.35,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1874,
                        "price": 20475.0,
                        "type": "H"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1883,
                        "price": 18190.0,
                        "type": "L"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1884,
                        "price": 19951.87,
                        "type": "H"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1891,
                        "price": 18650.0,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1896,
                        "price": 21020.0,
                        "type": "H"
                    },
                    {
                        "idx": 148,
                        "timestamp": 1898,
                        "price": 20000.09,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    133,
                    134,
                    141,
                    146,
                    148
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    20475.0,
                    18190.0,
                    19951.87,
                    18650.0,
                    21020.0,
                    20000.09
                ],
                "overlap": true,
                "legs": {
                    "w1": 2285.0,
                    "w2": 1761.869999999999,
                    "w3": 1301.869999999999,
                    "w4": 2370.0,
                    "w5": 1019.9099999999999
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Nov 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "up"
            },
            "next": {
                "stage": "corrective_A",
                "direction": "up"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 16915.177920000002,
                "post_impulse_retrace_50%": 16870.050000000003,
                "post_impulse_retrace_61.8%": 16824.92208
            },
            "debug": {
                "swings": [
                    {
                        "idx": 83,
                        "timestamp": 1925,
                        "price": 16812.63,
                        "type": "H"
                    },
                    {
                        "idx": 87,
                        "timestamp": 1929,
                        "price": 15995.27,
                        "type": "L"
                    },
                    {
                        "idx": 94,
                        "timestamp": 1936,
                        "price": 17424.25,
                        "type": "H"
                    },
                    {
                        "idx": 96,
                        "timestamp": 1938,
                        "price": 16678.83,
                        "type": "L"
                    },
                    {
                        "idx": 98,
                        "timestamp": 1940,
                        "price": 17360.0,
                        "type": "H"
                    },
                    {
                        "idx": 101,
                        "timestamp": 1943,
                        "price": 16871.85,
                        "type": "L"
                    },
                    {
                        "idx": 103,
                        "timestamp": 1945,
                        "price": 18387.95,
                        "type": "H"
                    },
                    {
                        "idx": 108,
                        "timestamp": 1950,
                        "price": 16256.3,
                        "type": "L"
                    },
                    {
                        "idx": 109,
                        "timestamp": 1951,
                        "price": 17061.27,
                        "type": "H"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1961,
                        "price": 16333.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1987,
                        "price": 23816.73,
                        "type": "H"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1987,
                        "price": 22300.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    96,
                    98,
                    101,
                    103,
                    108,
                    109
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    16678.83,
                    17360.0,
                    16871.85,
                    18387.95,
                    16256.3,
                    17061.27
                ],
                "overlap": true,
                "legs": {
                    "w1": 681.1699999999983,
                    "w2": 488.15000000000146,
                    "w3": 1516.1000000000022,
                    "w4": 2131.6500000000015,
                    "w5": 804.9700000000012
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Oct 2020",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 22551.114,
                "post_impulse_retrace_50%": 22778.5,
                "post_impulse_retrace_61.8%": 23005.886
            },
            "debug": {
                "swings": [
                    {
                        "idx": 92,
                        "timestamp": 1173,
                        "price": 13195.05,
                        "type": "L"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1192,
                        "price": 18965.9,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1193,
                        "price": 17610.86,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1196,
                        "price": 19484.21,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1197,
                        "price": 16188.0,
                        "type": "L"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1202,
                        "price": 19888.0,
                        "type": "H"
                    },
                    {
                        "idx": 125,
                        "timestamp": 1206,
                        "price": 18500.0,
                        "type": "L"
                    },
                    {
                        "idx": 127,
                        "timestamp": 1208,
                        "price": 19420.91,
                        "type": "H"
                    },
                    {
                        "idx": 131,
                        "timestamp": 1212,
                        "price": 17572.33,
                        "type": "L"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1221,
                        "price": 24295.0,
                        "type": "H"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1222,
                        "price": 21815.0,
                        "type": "L"
                    },
                    {
                        "idx": 147,
                        "timestamp": 1228,
                        "price": 28422.0,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    121,
                    125,
                    127,
                    131,
                    140,
                    141
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    19888.0,
                    18500.0,
                    19420.91,
                    17572.33,
                    24295.0,
                    21815.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 1388.0,
                    "w2": 920.9099999999999,
                    "w3": 1848.579999999998,
                    "w4": 6722.669999999998,
                    "w5": 2480.0
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Jan 2021",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "up"
            },
            "next": {
                "stage": "corrective_A",
                "direction": "up"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 53586.32146,
                "post_impulse_retrace_50%": 51564.985,
                "post_impulse_retrace_61.8%": 49543.64854
            },
            "debug": {
                "swings": [
                    {
                        "idx": 84,
                        "timestamp": 1257,
                        "price": 34875.0,
                        "type": "H"
                    },
                    {
                        "idx": 86,
                        "timestamp": 1259,
                        "price": 29241.72,
                        "type": "L"
                    },
                    {
                        "idx": 88,
                        "timestamp": 1261,
                        "price": 38531.9,
                        "type": "H"
                    },
                    {
                        "idx": 105,
                        "timestamp": 1278,
                        "price": 45570.79,
                        "type": "L"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1284,
                        "price": 58352.8,
                        "type": "H"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1291,
                        "price": 43000.0,
                        "type": "L"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1294,
                        "price": 52640.0,
                        "type": "H"
                    },
                    {
                        "idx": 123,
                        "timestamp": 1296,
                        "price": 46300.0,
                        "type": "L"
                    },
                    {
                        "idx": 131,
                        "timestamp": 1304,
                        "price": 61844.0,
                        "type": "H"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1307,
                        "price": 53271.34,
                        "type": "L"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1309,
                        "price": 60129.97,
                        "type": "H"
                    },
                    {
                        "idx": 143,
                        "timestamp": 1316,
                        "price": 50427.56,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    118,
                    121,
                    123,
                    131,
                    134,
                    136
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    43000.0,
                    52640.0,
                    46300.0,
                    61844.0,
                    53271.34,
                    60129.97
                ],
                "overlap": false,
                "legs": {
                    "w1": 9640.0,
                    "w2": 6340.0,
                    "w3": 15544.0,
                    "w4": 8572.660000000003,
                    "w5": 6858.630000000005
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Apr 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "up"
            },
            "next": {
                "stage": "corrective_A",
                "direction": "up"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 33781.0,
                "post_impulse_retrace_50%": 33250.0,
                "post_impulse_retrace_61.8%": 32719.0
            },
            "debug": {
                "swings": [
                    {
                        "idx": 97,
                        "timestamp": 1360,
                        "price": 59500.0,
                        "type": "H"
                    },
                    {
                        "idx": 108,
                        "timestamp": 1371,
                        "price": 30000.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1378,
                        "price": 40841.0,
                        "type": "H"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1382,
                        "price": 33379.0,
                        "type": "L"
                    },
                    {
                        "idx": 123,
                        "timestamp": 1386,
                        "price": 39476.0,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1391,
                        "price": 31000.0,
                        "type": "L"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1393,
                        "price": 38491.0,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1395,
                        "price": 34600.36,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 142,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    128,
                    130,
                    132,
                    135,
                    142,
                    145
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    31000.0,
                    38491.0,
                    34600.36,
                    41330.0,
                    28805.0,
                    35500.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 7491.0,
                    "w2": 3890.6399999999994,
                    "w3": 6729.639999999999,
                    "w4": 12525.0,
                    "w5": 6695.0
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "May 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 31833.5227,
                "post_impulse_retrace_50%": 32622.925,
                "post_impulse_retrace_61.8%": 33412.3273
            },
            "debug": {
                "swings": [
                    {
                        "idx": 105,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1412,
                        "price": 36600.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1415,
                        "price": 32699.0,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1417,
                        "price": 35967.85,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1421,
                        "price": 32077.0,
                        "type": "L"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1425,
                        "price": 34678.43,
                        "type": "H"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1429,
                        "price": 31020.0,
                        "type": "L"
                    },
                    {
                        "idx": 138,
                        "timestamp": 1431,
                        "price": 32435.0,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1433,
                        "price": 29278.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    132,
                    136,
                    138,
                    140
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    35967.85,
                    32077.0,
                    34678.43,
                    31020.0,
                    32435.0,
                    29278.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 3890.8499999999985,
                    "w2": 2601.4300000000003,
                    "w3": 3658.4300000000003,
                    "w4": 1415.0,
                    "w5": 3157.0
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Sep 2021",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 60543.906,
                "post_impulse_retrace_50%": 62158.5,
                "post_impulse_retrace_61.8%": 63773.094
            },
            "debug": {
                "swings": [
                    {
                        "idx": 117,
                        "timestamp": 1533,
                        "price": 57820.0,
                        "type": "L"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1534,
                        "price": 62980.0,
                        "type": "H"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1537,
                        "price": 59405.0,
                        "type": "L"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1538,
                        "price": 64270.0,
                        "type": "H"
                    },
                    {
                        "idx": 126,
                        "timestamp": 1542,
                        "price": 60050.0,
                        "type": "L"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1546,
                        "price": 69000.0,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1548,
                        "price": 62278.0,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1551,
                        "price": 66401.82,
                        "type": "H"
                    },
                    {
                        "idx": 139,
                        "timestamp": 1555,
                        "price": 55600.0,
                        "type": "L"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1557,
                        "price": 60029.76,
                        "type": "H"
                    },
                    {
                        "idx": 143,
                        "timestamp": 1559,
                        "price": 55317.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1561,
                        "price": 59398.9,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    130,
                    132,
                    135,
                    139,
                    141,
                    143
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    69000.0,
                    62278.0,
                    66401.82,
                    55600.0,
                    60029.76,
                    55317.0
                ],
                "overlap": false,
                "legs": {
                    "w1": 6722.0,
                    "w2": 4123.820000000007,
                    "w3": 10801.820000000007,
                    "w4": 4429.760000000002,
                    "w5": 4712.760000000002
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Nov 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 38942.33218,
                "post_impulse_retrace_50%": 40003.505000000005,
                "post_impulse_retrace_61.8%": 41064.67782
            },
            "debug": {
                "swings": [
                    {
                        "idx": 89,
                        "timestamp": 1566,
                        "price": 59176.99,
                        "type": "H"
                    },
                    {
                        "idx": 93,
                        "timestamp": 1570,
                        "price": 42000.3,
                        "type": "L"
                    },
                    {
                        "idx": 96,
                        "timestamp": 1573,
                        "price": 51936.33,
                        "type": "H"
                    },
                    {
                        "idx": 106,
                        "timestamp": 1583,
                        "price": 45456.0,
                        "type": "L"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1593,
                        "price": 52088.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1607,
                        "price": 39650.0,
                        "type": "L"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1610,
                        "price": 44500.0,
                        "type": "H"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1611,
                        "price": 41725.95,
                        "type": "L"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1617,
                        "price": 43505.0,
                        "type": "H"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1621,
                        "price": 32917.17,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1623,
                        "price": 38919.98,
                        "type": "H"
                    },
                    {
                        "idx": 147,
                        "timestamp": 1624,
                        "price": 35507.01,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    133,
                    134,
                    140,
                    144,
                    146,
                    147
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    44500.0,
                    41725.95,
                    43505.0,
                    32917.17,
                    38919.98,
                    35507.01
                ],
                "overlap": false,
                "legs": {
                    "w1": 2774.050000000003,
                    "w2": 1779.050000000003,
                    "w3": 10587.830000000002,
                    "w4": 6002.810000000005,
                    "w5": 3412.970000000001
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Jan 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 42351.98692,
                "post_impulse_retrace_50%": 42933.97,
                "post_impulse_retrace_61.8%": 43515.95308
            },
            "debug": {
                "swings": [
                    {
                        "idx": 93,
                        "timestamp": 1631,
                        "price": 36250.0,
                        "type": "L"
                    },
                    {
                        "idx": 100,
                        "timestamp": 1638,
                        "price": 45821.0,
                        "type": "H"
                    },
                    {
                        "idx": 104,
                        "timestamp": 1642,
                        "price": 41550.56,
                        "type": "L"
                    },
                    {
                        "idx": 105,
                        "timestamp": 1643,
                        "price": 44751.4,
                        "type": "H"
                    },
                    {
                        "idx": 114,
                        "timestamp": 1652,
                        "price": 34322.28,
                        "type": "L"
                    },
                    {
                        "idx": 120,
                        "timestamp": 1658,
                        "price": 45400.0,
                        "type": "H"
                    },
                    {
                        "idx": 125,
                        "timestamp": 1663,
                        "price": 37155.0,
                        "type": "L"
                    },
                    {
                        "idx": 127,
                        "timestamp": 1665,
                        "price": 42594.06,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1670,
                        "price": 37555.0,
                        "type": "L"
                    },
                    {
                        "idx": 137,
                        "timestamp": 1675,
                        "price": 42400.0,
                        "type": "H"
                    },
                    {
                        "idx": 139,
                        "timestamp": 1677,
                        "price": 40467.94,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1684,
                        "price": 48189.84,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    120,
                    125,
                    127,
                    132,
                    137,
                    139
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    45400.0,
                    37155.0,
                    42594.06,
                    37555.0,
                    42400.0,
                    40467.94
                ],
                "overlap": true,
                "legs": {
                    "w1": 8245.0,
                    "w2": 5439.059999999998,
                    "w3": 5039.059999999998,
                    "w4": 4845.0,
                    "w5": 1932.0599999999977
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Jun 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "up"
            },
            "next": {
                "stage": "corrective_A",
                "direction": "up"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 21709.0,
                "post_impulse_retrace_50%": 21650.0,
                "post_impulse_retrace_61.8%": 21591.0
            },
            "debug": {
                "swings": [
                    {
                        "idx": 92,
                        "timestamp": 1781,
                        "price": 18781.0,
                        "type": "L"
                    },
                    {
                        "idx": 97,
                        "timestamp": 1786,
                        "price": 22527.37,
                        "type": "H"
                    },
                    {
                        "idx": 102,
                        "timestamp": 1791,
                        "price": 18910.94,
                        "type": "L"
                    },
                    {
                        "idx": 109,
                        "timestamp": 1798,
                        "price": 24276.74,
                        "type": "H"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1804,
                        "price": 20706.5,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1808,
                        "price": 24668.0,
                        "type": "H"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1813,
                        "price": 22400.0,
                        "type": "L"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1817,
                        "price": 24245.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1819,
                        "price": 22664.69,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1824,
                        "price": 25211.32,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1829,
                        "price": 20761.9,
                        "type": "L"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1833,
                        "price": 21900.0,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    130,
                    135,
                    140,
                    144
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    22400.0,
                    24245.0,
                    22664.69,
                    25211.32,
                    20761.9,
                    21900.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 1845.0,
                    "w2": 1580.3100000000013,
                    "w3": 2546.630000000001,
                    "w4": 4449.419999999998,
                    "w5": 1138.0999999999985
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Aug 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 20181.50562,
                "post_impulse_retrace_50%": 20237.545,
                "post_impulse_retrace_61.8%": 20293.58438
            },
            "debug": {
                "swings": [
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 19956.0,
                        "type": "H"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 18125.98,
                        "type": "L"
                    },
                    {
                        "idx": 117,
                        "timestamp": 1867,
                        "price": 20385.86,
                        "type": "H"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1868,
                        "price": 18471.28,
                        "type": "L"
                    },
                    {
                        "idx": 120,
                        "timestamp": 1870,
                        "price": 20185.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1872,
                        "price": 18920.35,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1874,
                        "price": 20475.0,
                        "type": "H"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1883,
                        "price": 18190.0,
                        "type": "L"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1884,
                        "price": 19951.87,
                        "type": "H"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1891,
                        "price": 18650.0,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1896,
                        "price": 21020.0,
                        "type": "H"
                    },
                    {
                        "idx": 148,
                        "timestamp": 1898,
                        "price": 20000.09,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    133,
                    134,
                    141,
                    146,
                    148
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    20475.0,
                    18190.0,
                    19951.87,
                    18650.0,
                    21020.0,
                    20000.09
                ],
                "overlap": true,
                "legs": {
                    "w1": 2285.0,
                    "w2": 1761.869999999999,
                    "w3": 1301.869999999999,
                    "w4": 2370.0,
                    "w5": 1019.9099999999999
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Nov 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "up"
            },
            "next": {
                "stage": "corrective_A",
                "direction": "up"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 16915.177920000002,
                "post_impulse_retrace_50%": 16870.050000000003,
                "post_impulse_retrace_61.8%": 16824.92208
            },
            "debug": {
                "swings": [
                    {
                        "idx": 83,
                        "timestamp": 1925,
                        "price": 16812.63,
                        "type": "H"
                    },
                    {
                        "idx": 87,
                        "timestamp": 1929,
                        "price": 15995.27,
                        "type": "L"
                    },
                    {
                        "idx": 94,
                        "timestamp": 1936,
                        "price": 17424.25,
                        "type": "H"
                    },
                    {
                        "idx": 96,
                        "timestamp": 1938,
                        "price": 16678.83,
                        "type": "L"
                    },
                    {
                        "idx": 98,
                        "timestamp": 1940,
                        "price": 17360.0,
                        "type": "H"
                    },
                    {
                        "idx": 101,
                        "timestamp": 1943,
                        "price": 16871.85,
                        "type": "L"
                    },
                    {
                        "idx": 103,
                        "timestamp": 1945,
                        "price": 18387.95,
                        "type": "H"
                    },
                    {
                        "idx": 108,
                        "timestamp": 1950,
                        "price": 16256.3,
                        "type": "L"
                    },
                    {
                        "idx": 109,
                        "timestamp": 1951,
                        "price": 17061.27,
                        "type": "H"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1961,
                        "price": 16333.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1987,
                        "price": 23816.73,
                        "type": "H"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1987,
                        "price": 22300.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    96,
                    98,
                    101,
                    103,
                    108,
                    109
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    16678.83,
                    17360.0,
                    16871.85,
                    18387.95,
                    16256.3,
                    17061.27
                ],
                "overlap": true,
                "legs": {
                    "w1": 681.1699999999983,
                    "w2": 488.15000000000146,
                    "w3": 1516.1000000000022,
                    "w4": 2131.6500000000015,
                    "w5": 804.9700000000012
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Oct 2020",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 22907.0,
                "wave5_projection_161.8%": 22049.216
            },
            "debug": {
                "swings": [
                    {
                        "idx": 92,
                        "timestamp": 1173,
                        "price": 13195.05,
                        "type": "L"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1192,
                        "price": 18965.9,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1193,
                        "price": 17610.86,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1196,
                        "price": 19484.21,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1197,
                        "price": 16188.0,
                        "type": "L"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1202,
                        "price": 19888.0,
                        "type": "H"
                    },
                    {
                        "idx": 125,
                        "timestamp": 1206,
                        "price": 18500.0,
                        "type": "L"
                    },
                    {
                        "idx": 127,
                        "timestamp": 1208,
                        "price": 19420.91,
                        "type": "H"
                    },
                    {
                        "idx": 131,
                        "timestamp": 1212,
                        "price": 17572.33,
                        "type": "L"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1221,
                        "price": 24295.0,
                        "type": "H"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1222,
                        "price": 21815.0,
                        "type": "L"
                    },
                    {
                        "idx": 147,
                        "timestamp": 1228,
                        "price": 28422.0,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    121,
                    125,
                    127,
                    131,
                    140,
                    141
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    19888.0,
                    18500.0,
                    19420.91,
                    17572.33,
                    24295.0,
                    21815.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 1388.0,
                    "w2": 920.9099999999999,
                    "w3": 1848.579999999998,
                    "w4": 6722.669999999998,
                    "w5": 2480.0
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 1848.579999999998,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Jan 2021",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_PROGRESS",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "up"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "up"
            },
            "targets": {
                "wave5_projection_100%": 62911.34,
                "wave5_projection_161.8%": 68868.86
            },
            "debug": {
                "swings": [
                    {
                        "idx": 84,
                        "timestamp": 1257,
                        "price": 34875.0,
                        "type": "H"
                    },
                    {
                        "idx": 86,
                        "timestamp": 1259,
                        "price": 29241.72,
                        "type": "L"
                    },
                    {
                        "idx": 88,
                        "timestamp": 1261,
                        "price": 38531.9,
                        "type": "H"
                    },
                    {
                        "idx": 105,
                        "timestamp": 1278,
                        "price": 45570.79,
                        "type": "L"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1284,
                        "price": 58352.8,
                        "type": "H"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1291,
                        "price": 43000.0,
                        "type": "L"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1294,
                        "price": 52640.0,
                        "type": "H"
                    },
                    {
                        "idx": 123,
                        "timestamp": 1296,
                        "price": 46300.0,
                        "type": "L"
                    },
                    {
                        "idx": 131,
                        "timestamp": 1304,
                        "price": 61844.0,
                        "type": "H"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1307,
                        "price": 53271.34,
                        "type": "L"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1309,
                        "price": 60129.97,
                        "type": "H"
                    },
                    {
                        "idx": 143,
                        "timestamp": 1316,
                        "price": 50427.56,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    118,
                    121,
                    123,
                    131,
                    134,
                    136
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    43000.0,
                    52640.0,
                    46300.0,
                    61844.0,
                    53271.34,
                    60129.97
                ],
                "overlap": false,
                "legs": {
                    "w1": 9640.0,
                    "w2": 6340.0,
                    "w3": 15544.0,
                    "w4": 8572.660000000003,
                    "w5": 6858.630000000005
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 9640.0,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Apr 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_PROGRESS",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "up"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "up"
            },
            "targets": {
                "wave5_projection_100%": 36296.0,
                "wave5_projection_161.8%": 40925.438
            },
            "debug": {
                "swings": [
                    {
                        "idx": 97,
                        "timestamp": 1360,
                        "price": 59500.0,
                        "type": "H"
                    },
                    {
                        "idx": 108,
                        "timestamp": 1371,
                        "price": 30000.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1378,
                        "price": 40841.0,
                        "type": "H"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1382,
                        "price": 33379.0,
                        "type": "L"
                    },
                    {
                        "idx": 123,
                        "timestamp": 1386,
                        "price": 39476.0,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1391,
                        "price": 31000.0,
                        "type": "L"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1393,
                        "price": 38491.0,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1395,
                        "price": 34600.36,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 142,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    128,
                    130,
                    132,
                    135,
                    142,
                    145
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    31000.0,
                    38491.0,
                    34600.36,
                    41330.0,
                    28805.0,
                    35500.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 7491.0,
                    "w2": 3890.6399999999994,
                    "w3": 6729.639999999999,
                    "w4": 12525.0,
                    "w5": 6695.0
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 6729.639999999999,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "May 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 31833.5227,
                "post_impulse_retrace_50%": 32622.925,
                "post_impulse_retrace_61.8%": 33412.3273
            },
            "debug": {
                "swings": [
                    {
                        "idx": 105,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1412,
                        "price": 36600.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1415,
                        "price": 32699.0,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1417,
                        "price": 35967.85,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1421,
                        "price": 32077.0,
                        "type": "L"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1425,
                        "price": 34678.43,
                        "type": "H"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1429,
                        "price": 31020.0,
                        "type": "L"
                    },
                    {
                        "idx": 138,
                        "timestamp": 1431,
                        "price": 32435.0,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1433,
                        "price": 29278.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    132,
                    136,
                    138,
                    140
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    35967.85,
                    32077.0,
                    34678.43,
                    31020.0,
                    32435.0,
                    29278.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 3890.8499999999985,
                    "w2": 2601.4300000000003,
                    "w3": 3658.4300000000003,
                    "w4": 1415.0,
                    "w5": 3157.0
                },
                "completion_metrics": {
                    "breakout": 1742.0,
                    "motive_median": 3658.4300000000003,
                    "break_ok": true,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Sep 2021",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 53307.76,
                "wave5_projection_161.8%": 49153.564
            },
            "debug": {
                "swings": [
                    {
                        "idx": 117,
                        "timestamp": 1533,
                        "price": 57820.0,
                        "type": "L"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1534,
                        "price": 62980.0,
                        "type": "H"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1537,
                        "price": 59405.0,
                        "type": "L"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1538,
                        "price": 64270.0,
                        "type": "H"
                    },
                    {
                        "idx": 126,
                        "timestamp": 1542,
                        "price": 60050.0,
                        "type": "L"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1546,
                        "price": 69000.0,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1548,
                        "price": 62278.0,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1551,
                        "price": 66401.82,
                        "type": "H"
                    },
                    {
                        "idx": 139,
                        "timestamp": 1555,
                        "price": 55600.0,
                        "type": "L"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1557,
                        "price": 60029.76,
                        "type": "H"
                    },
                    {
                        "idx": 143,
                        "timestamp": 1559,
                        "price": 55317.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1561,
                        "price": 59398.9,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    130,
                    132,
                    135,
                    139,
                    141,
                    143
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    69000.0,
                    62278.0,
                    66401.82,
                    55600.0,
                    60029.76,
                    55317.0
                ],
                "overlap": false,
                "legs": {
                    "w1": 6722.0,
                    "w2": 4123.820000000007,
                    "w3": 10801.820000000007,
                    "w4": 4429.760000000002,
                    "w5": 4712.760000000002
                },
                "completion_metrics": {
                    "breakout": 283.0,
                    "motive_median": 6722.0,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Nov 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 36145.93,
                "wave5_projection_161.8%": 34431.5671
            },
            "debug": {
                "swings": [
                    {
                        "idx": 89,
                        "timestamp": 1566,
                        "price": 59176.99,
                        "type": "H"
                    },
                    {
                        "idx": 93,
                        "timestamp": 1570,
                        "price": 42000.3,
                        "type": "L"
                    },
                    {
                        "idx": 96,
                        "timestamp": 1573,
                        "price": 51936.33,
                        "type": "H"
                    },
                    {
                        "idx": 106,
                        "timestamp": 1583,
                        "price": 45456.0,
                        "type": "L"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1593,
                        "price": 52088.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1607,
                        "price": 39650.0,
                        "type": "L"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1610,
                        "price": 44500.0,
                        "type": "H"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1611,
                        "price": 41725.95,
                        "type": "L"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1617,
                        "price": 43505.0,
                        "type": "H"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1621,
                        "price": 32917.17,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1623,
                        "price": 38919.98,
                        "type": "H"
                    },
                    {
                        "idx": 147,
                        "timestamp": 1624,
                        "price": 35507.01,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    133,
                    134,
                    140,
                    144,
                    146,
                    147
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    44500.0,
                    41725.95,
                    43505.0,
                    32917.17,
                    38919.98,
                    35507.01
                ],
                "overlap": false,
                "legs": {
                    "w1": 2774.050000000003,
                    "w2": 1779.050000000003,
                    "w3": 10587.830000000002,
                    "w4": 6002.810000000005,
                    "w5": 3412.970000000001
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 3412.970000000001,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Jan 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 34155.0,
                "wave5_projection_161.8%": 29059.589999999997
            },
            "debug": {
                "swings": [
                    {
                        "idx": 93,
                        "timestamp": 1631,
                        "price": 36250.0,
                        "type": "L"
                    },
                    {
                        "idx": 100,
                        "timestamp": 1638,
                        "price": 45821.0,
                        "type": "H"
                    },
                    {
                        "idx": 104,
                        "timestamp": 1642,
                        "price": 41550.56,
                        "type": "L"
                    },
                    {
                        "idx": 105,
                        "timestamp": 1643,
                        "price": 44751.4,
                        "type": "H"
                    },
                    {
                        "idx": 114,
                        "timestamp": 1652,
                        "price": 34322.28,
                        "type": "L"
                    },
                    {
                        "idx": 120,
                        "timestamp": 1658,
                        "price": 45400.0,
                        "type": "H"
                    },
                    {
                        "idx": 125,
                        "timestamp": 1663,
                        "price": 37155.0,
                        "type": "L"
                    },
                    {
                        "idx": 127,
                        "timestamp": 1665,
                        "price": 42594.06,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1670,
                        "price": 37555.0,
                        "type": "L"
                    },
                    {
                        "idx": 137,
                        "timestamp": 1675,
                        "price": 42400.0,
                        "type": "H"
                    },
                    {
                        "idx": 139,
                        "timestamp": 1677,
                        "price": 40467.94,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1684,
                        "price": 48189.84,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    120,
                    125,
                    127,
                    132,
                    137,
                    139
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    45400.0,
                    37155.0,
                    42594.06,
                    37555.0,
                    42400.0,
                    40467.94
                ],
                "overlap": true,
                "legs": {
                    "w1": 8245.0,
                    "w2": 5439.059999999998,
                    "w3": 5039.059999999998,
                    "w4": 4845.0,
                    "w5": 1932.0599999999977
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 5039.059999999998,
                    "break_ok": false,
                    "w5_ok": false,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Jun 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_PROGRESS",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "up"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "up"
            },
            "targets": {
                "wave5_projection_100%": 22606.9,
                "wave5_projection_161.8%": 23747.11
            },
            "debug": {
                "swings": [
                    {
                        "idx": 92,
                        "timestamp": 1781,
                        "price": 18781.0,
                        "type": "L"
                    },
                    {
                        "idx": 97,
                        "timestamp": 1786,
                        "price": 22527.37,
                        "type": "H"
                    },
                    {
                        "idx": 102,
                        "timestamp": 1791,
                        "price": 18910.94,
                        "type": "L"
                    },
                    {
                        "idx": 109,
                        "timestamp": 1798,
                        "price": 24276.74,
                        "type": "H"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1804,
                        "price": 20706.5,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1808,
                        "price": 24668.0,
                        "type": "H"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1813,
                        "price": 22400.0,
                        "type": "L"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1817,
                        "price": 24245.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1819,
                        "price": 22664.69,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1824,
                        "price": 25211.32,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1829,
                        "price": 20761.9,
                        "type": "L"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1833,
                        "price": 21900.0,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    130,
                    135,
                    140,
                    144
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    22400.0,
                    24245.0,
                    22664.69,
                    25211.32,
                    20761.9,
                    21900.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 1845.0,
                    "w2": 1580.3100000000013,
                    "w3": 2546.630000000001,
                    "w4": 4449.419999999998,
                    "w5": 1138.0999999999985
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 1845.0,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Aug 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 18735.0,
                "wave5_projection_161.8%": 17322.87
            },
            "debug": {
                "swings": [
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 19956.0,
                        "type": "H"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 18125.98,
                        "type": "L"
                    },
                    {
                        "idx": 117,
                        "timestamp": 1867,
                        "price": 20385.86,
                        "type": "H"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1868,
                        "price": 18471.28,
                        "type": "L"
                    },
                    {
                        "idx": 120,
                        "timestamp": 1870,
                        "price": 20185.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1872,
                        "price": 18920.35,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1874,
                        "price": 20475.0,
                        "type": "H"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1883,
                        "price": 18190.0,
                        "type": "L"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1884,
                        "price": 19951.87,
                        "type": "H"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1891,
                        "price": 18650.0,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1896,
                        "price": 21020.0,
                        "type": "H"
                    },
                    {
                        "idx": 148,
                        "timestamp": 1898,
                        "price": 20000.09,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    133,
                    134,
                    141,
                    146,
                    148
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    20475.0,
                    18190.0,
                    19951.87,
                    18650.0,
                    21020.0,
                    20000.09
                ],
                "overlap": true,
                "legs": {
                    "w1": 2285.0,
                    "w2": 1761.869999999999,
                    "w3": 1301.869999999999,
                    "w4": 2370.0,
                    "w5": 1019.9099999999999
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 1301.869999999999,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Nov 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_PROGRESS",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "up"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "up"
            },
            "targets": {
                "wave5_projection_100%": 16937.469999999998,
                "wave5_projection_161.8%": 17358.433059999996
            },
            "debug": {
                "swings": [
                    {
                        "idx": 83,
                        "timestamp": 1925,
                        "price": 16812.63,
                        "type": "H"
                    },
                    {
                        "idx": 87,
                        "timestamp": 1929,
                        "price": 15995.27,
                        "type": "L"
                    },
                    {
                        "idx": 94,
                        "timestamp": 1936,
                        "price": 17424.25,
                        "type": "H"
                    },
                    {
                        "idx": 96,
                        "timestamp": 1938,
                        "price": 16678.83,
                        "type": "L"
                    },
                    {
                        "idx": 98,
                        "timestamp": 1940,
                        "price": 17360.0,
                        "type": "H"
                    },
                    {
                        "idx": 101,
                        "timestamp": 1943,
                        "price": 16871.85,
                        "type": "L"
                    },
                    {
                        "idx": 103,
                        "timestamp": 1945,
                        "price": 18387.95,
                        "type": "H"
                    },
                    {
                        "idx": 108,
                        "timestamp": 1950,
                        "price": 16256.3,
                        "type": "L"
                    },
                    {
                        "idx": 109,
                        "timestamp": 1951,
                        "price": 17061.27,
                        "type": "H"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1961,
                        "price": 16333.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1987,
                        "price": 23816.73,
                        "type": "H"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1987,
                        "price": 22300.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    96,
                    98,
                    101,
                    103,
                    108,
                    109
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    16678.83,
                    17360.0,
                    16871.85,
                    18387.95,
                    16256.3,
                    17061.27
                ],
                "overlap": true,
                "legs": {
                    "w1": 681.1699999999983,
                    "w2": 488.15000000000146,
                    "w3": 1516.1000000000022,
                    "w4": 2131.6500000000015,
                    "w5": 804.9700000000012
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 804.9700000000012,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Oct 2020",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 22907.0,
                "wave5_projection_161.8%": 22049.216
            },
            "debug": {
                "swings": [
                    {
                        "idx": 92,
                        "timestamp": 1173,
                        "price": 13195.05,
                        "type": "L"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1192,
                        "price": 18965.9,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1193,
                        "price": 17610.86,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1196,
                        "price": 19484.21,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1197,
                        "price": 16188.0,
                        "type": "L"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1202,
                        "price": 19888.0,
                        "type": "H"
                    },
                    {
                        "idx": 125,
                        "timestamp": 1206,
                        "price": 18500.0,
                        "type": "L"
                    },
                    {
                        "idx": 127,
                        "timestamp": 1208,
                        "price": 19420.91,
                        "type": "H"
                    },
                    {
                        "idx": 131,
                        "timestamp": 1212,
                        "price": 17572.33,
                        "type": "L"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1221,
                        "price": 24295.0,
                        "type": "H"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1222,
                        "price": 21815.0,
                        "type": "L"
                    },
                    {
                        "idx": 147,
                        "timestamp": 1228,
                        "price": 28422.0,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    121,
                    125,
                    127,
                    131,
                    140,
                    141
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    19888.0,
                    18500.0,
                    19420.91,
                    17572.33,
                    24295.0,
                    21815.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 1388.0,
                    "w2": 920.9099999999999,
                    "w3": 1848.579999999998,
                    "w4": 6722.669999999998,
                    "w5": 2480.0
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 1848.579999999998,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Jan 2021",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_PROGRESS",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "up"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "up"
            },
            "targets": {
                "wave5_projection_100%": 62911.34,
                "wave5_projection_161.8%": 68868.86
            },
            "debug": {
                "swings": [
                    {
                        "idx": 84,
                        "timestamp": 1257,
                        "price": 34875.0,
                        "type": "H"
                    },
                    {
                        "idx": 86,
                        "timestamp": 1259,
                        "price": 29241.72,
                        "type": "L"
                    },
                    {
                        "idx": 88,
                        "timestamp": 1261,
                        "price": 38531.9,
                        "type": "H"
                    },
                    {
                        "idx": 105,
                        "timestamp": 1278,
                        "price": 45570.79,
                        "type": "L"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1284,
                        "price": 58352.8,
                        "type": "H"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1291,
                        "price": 43000.0,
                        "type": "L"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1294,
                        "price": 52640.0,
                        "type": "H"
                    },
                    {
                        "idx": 123,
                        "timestamp": 1296,
                        "price": 46300.0,
                        "type": "L"
                    },
                    {
                        "idx": 131,
                        "timestamp": 1304,
                        "price": 61844.0,
                        "type": "H"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1307,
                        "price": 53271.34,
                        "type": "L"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1309,
                        "price": 60129.97,
                        "type": "H"
                    },
                    {
                        "idx": 143,
                        "timestamp": 1316,
                        "price": 50427.56,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    118,
                    121,
                    123,
                    131,
                    134,
                    136
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    43000.0,
                    52640.0,
                    46300.0,
                    61844.0,
                    53271.34,
                    60129.97
                ],
                "overlap": false,
                "legs": {
                    "w1": 9640.0,
                    "w2": 6340.0,
                    "w3": 15544.0,
                    "w4": 8572.660000000003,
                    "w5": 6858.630000000005
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 9640.0,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Apr 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_PROGRESS",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "up"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "up"
            },
            "targets": {
                "wave5_projection_100%": 36296.0,
                "wave5_projection_161.8%": 40925.438
            },
            "debug": {
                "swings": [
                    {
                        "idx": 97,
                        "timestamp": 1360,
                        "price": 59500.0,
                        "type": "H"
                    },
                    {
                        "idx": 108,
                        "timestamp": 1371,
                        "price": 30000.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1378,
                        "price": 40841.0,
                        "type": "H"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1382,
                        "price": 33379.0,
                        "type": "L"
                    },
                    {
                        "idx": 123,
                        "timestamp": 1386,
                        "price": 39476.0,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1391,
                        "price": 31000.0,
                        "type": "L"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1393,
                        "price": 38491.0,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1395,
                        "price": 34600.36,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 142,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    128,
                    130,
                    132,
                    135,
                    142,
                    145
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    31000.0,
                    38491.0,
                    34600.36,
                    41330.0,
                    28805.0,
                    35500.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 7491.0,
                    "w2": 3890.6399999999994,
                    "w3": 6729.639999999999,
                    "w4": 12525.0,
                    "w5": 6695.0
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 6729.639999999999,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "May 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 31833.5227,
                "post_impulse_retrace_50%": 32622.925,
                "post_impulse_retrace_61.8%": 33412.3273
            },
            "debug": {
                "swings": [
                    {
                        "idx": 105,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1412,
                        "price": 36600.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1415,
                        "price": 32699.0,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1417,
                        "price": 35967.85,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1421,
                        "price": 32077.0,
                        "type": "L"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1425,
                        "price": 34678.43,
                        "type": "H"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1429,
                        "price": 31020.0,
                        "type": "L"
                    },
                    {
                        "idx": 138,
                        "timestamp": 1431,
                        "price": 32435.0,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1433,
                        "price": 29278.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    132,
                    136,
                    138,
                    140
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    35967.85,
                    32077.0,
                    34678.43,
                    31020.0,
                    32435.0,
                    29278.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 3890.8499999999985,
                    "w2": 2601.4300000000003,
                    "w3": 3658.4300000000003,
                    "w4": 1415.0,
                    "w5": 3157.0
                },
                "completion_metrics": {
                    "breakout": 1742.0,
                    "motive_median": 3658.4300000000003,
                    "break_ok": true,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Sep 2021",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 53307.76,
                "wave5_projection_161.8%": 49153.564
            },
            "debug": {
                "swings": [
                    {
                        "idx": 117,
                        "timestamp": 1533,
                        "price": 57820.0,
                        "type": "L"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1534,
                        "price": 62980.0,
                        "type": "H"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1537,
                        "price": 59405.0,
                        "type": "L"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1538,
                        "price": 64270.0,
                        "type": "H"
                    },
                    {
                        "idx": 126,
                        "timestamp": 1542,
                        "price": 60050.0,
                        "type": "L"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1546,
                        "price": 69000.0,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1548,
                        "price": 62278.0,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1551,
                        "price": 66401.82,
                        "type": "H"
                    },
                    {
                        "idx": 139,
                        "timestamp": 1555,
                        "price": 55600.0,
                        "type": "L"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1557,
                        "price": 60029.76,
                        "type": "H"
                    },
                    {
                        "idx": 143,
                        "timestamp": 1559,
                        "price": 55317.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1561,
                        "price": 59398.9,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    130,
                    132,
                    135,
                    139,
                    141,
                    143
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    69000.0,
                    62278.0,
                    66401.82,
                    55600.0,
                    60029.76,
                    55317.0
                ],
                "overlap": false,
                "legs": {
                    "w1": 6722.0,
                    "w2": 4123.820000000007,
                    "w3": 10801.820000000007,
                    "w4": 4429.760000000002,
                    "w5": 4712.760000000002
                },
                "completion_metrics": {
                    "breakout": 283.0,
                    "motive_median": 6722.0,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Nov 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 36145.93,
                "wave5_projection_161.8%": 34431.5671
            },
            "debug": {
                "swings": [
                    {
                        "idx": 89,
                        "timestamp": 1566,
                        "price": 59176.99,
                        "type": "H"
                    },
                    {
                        "idx": 93,
                        "timestamp": 1570,
                        "price": 42000.3,
                        "type": "L"
                    },
                    {
                        "idx": 96,
                        "timestamp": 1573,
                        "price": 51936.33,
                        "type": "H"
                    },
                    {
                        "idx": 106,
                        "timestamp": 1583,
                        "price": 45456.0,
                        "type": "L"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1593,
                        "price": 52088.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1607,
                        "price": 39650.0,
                        "type": "L"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1610,
                        "price": 44500.0,
                        "type": "H"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1611,
                        "price": 41725.95,
                        "type": "L"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1617,
                        "price": 43505.0,
                        "type": "H"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1621,
                        "price": 32917.17,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1623,
                        "price": 38919.98,
                        "type": "H"
                    },
                    {
                        "idx": 147,
                        "timestamp": 1624,
                        "price": 35507.01,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    133,
                    134,
                    140,
                    144,
                    146,
                    147
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    44500.0,
                    41725.95,
                    43505.0,
                    32917.17,
                    38919.98,
                    35507.01
                ],
                "overlap": false,
                "legs": {
                    "w1": 2774.050000000003,
                    "w2": 1779.050000000003,
                    "w3": 10587.830000000002,
                    "w4": 6002.810000000005,
                    "w5": 3412.970000000001
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 3412.970000000001,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Jan 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 34155.0,
                "wave5_projection_161.8%": 29059.589999999997
            },
            "debug": {
                "swings": [
                    {
                        "idx": 93,
                        "timestamp": 1631,
                        "price": 36250.0,
                        "type": "L"
                    },
                    {
                        "idx": 100,
                        "timestamp": 1638,
                        "price": 45821.0,
                        "type": "H"
                    },
                    {
                        "idx": 104,
                        "timestamp": 1642,
                        "price": 41550.56,
                        "type": "L"
                    },
                    {
                        "idx": 105,
                        "timestamp": 1643,
                        "price": 44751.4,
                        "type": "H"
                    },
                    {
                        "idx": 114,
                        "timestamp": 1652,
                        "price": 34322.28,
                        "type": "L"
                    },
                    {
                        "idx": 120,
                        "timestamp": 1658,
                        "price": 45400.0,
                        "type": "H"
                    },
                    {
                        "idx": 125,
                        "timestamp": 1663,
                        "price": 37155.0,
                        "type": "L"
                    },
                    {
                        "idx": 127,
                        "timestamp": 1665,
                        "price": 42594.06,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1670,
                        "price": 37555.0,
                        "type": "L"
                    },
                    {
                        "idx": 137,
                        "timestamp": 1675,
                        "price": 42400.0,
                        "type": "H"
                    },
                    {
                        "idx": 139,
                        "timestamp": 1677,
                        "price": 40467.94,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1684,
                        "price": 48189.84,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    120,
                    125,
                    127,
                    132,
                    137,
                    139
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    45400.0,
                    37155.0,
                    42594.06,
                    37555.0,
                    42400.0,
                    40467.94
                ],
                "overlap": true,
                "legs": {
                    "w1": 8245.0,
                    "w2": 5439.059999999998,
                    "w3": 5039.059999999998,
                    "w4": 4845.0,
                    "w5": 1932.0599999999977
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 5039.059999999998,
                    "break_ok": false,
                    "w5_ok": false,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Jun 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_PROGRESS",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "up"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "up"
            },
            "targets": {
                "wave5_projection_100%": 22606.9,
                "wave5_projection_161.8%": 23747.11
            },
            "debug": {
                "swings": [
                    {
                        "idx": 92,
                        "timestamp": 1781,
                        "price": 18781.0,
                        "type": "L"
                    },
                    {
                        "idx": 97,
                        "timestamp": 1786,
                        "price": 22527.37,
                        "type": "H"
                    },
                    {
                        "idx": 102,
                        "timestamp": 1791,
                        "price": 18910.94,
                        "type": "L"
                    },
                    {
                        "idx": 109,
                        "timestamp": 1798,
                        "price": 24276.74,
                        "type": "H"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1804,
                        "price": 20706.5,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1808,
                        "price": 24668.0,
                        "type": "H"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1813,
                        "price": 22400.0,
                        "type": "L"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1817,
                        "price": 24245.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1819,
                        "price": 22664.69,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1824,
                        "price": 25211.32,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1829,
                        "price": 20761.9,
                        "type": "L"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1833,
                        "price": 21900.0,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    130,
                    135,
                    140,
                    144
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    22400.0,
                    24245.0,
                    22664.69,
                    25211.32,
                    20761.9,
                    21900.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 1845.0,
                    "w2": 1580.3100000000013,
                    "w3": 2546.630000000001,
                    "w4": 4449.419999999998,
                    "w5": 1138.0999999999985
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 1845.0,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Aug 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 18735.0,
                "wave5_projection_161.8%": 17322.87
            },
            "debug": {
                "swings": [
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 19956.0,
                        "type": "H"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 18125.98,
                        "type": "L"
                    },
                    {
                        "idx": 117,
                        "timestamp": 1867,
                        "price": 20385.86,
                        "type": "H"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1868,
                        "price": 18471.28,
                        "type": "L"
                    },
                    {
                        "idx": 120,
                        "timestamp": 1870,
                        "price": 20185.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1872,
                        "price": 18920.35,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1874,
                        "price": 20475.0,
                        "type": "H"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1883,
                        "price": 18190.0,
                        "type": "L"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1884,
                        "price": 19951.87,
                        "type": "H"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1891,
                        "price": 18650.0,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1896,
                        "price": 21020.0,
                        "type": "H"
                    },
                    {
                        "idx": 148,
                        "timestamp": 1898,
                        "price": 20000.09,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    133,
                    134,
                    141,
                    146,
                    148
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    20475.0,
                    18190.0,
                    19951.87,
                    18650.0,
                    21020.0,
                    20000.09
                ],
                "overlap": true,
                "legs": {
                    "w1": 2285.0,
                    "w2": 1761.869999999999,
                    "w3": 1301.869999999999,
                    "w4": 2370.0,
                    "w5": 1019.9099999999999
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 1301.869999999999,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Nov 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_PROGRESS",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "up"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "up"
            },
            "targets": {
                "wave5_projection_100%": 16937.469999999998,
                "wave5_projection_161.8%": 17358.433059999996
            },
            "debug": {
                "swings": [
                    {
                        "idx": 83,
                        "timestamp": 1925,
                        "price": 16812.63,
                        "type": "H"
                    },
                    {
                        "idx": 87,
                        "timestamp": 1929,
                        "price": 15995.27,
                        "type": "L"
                    },
                    {
                        "idx": 94,
                        "timestamp": 1936,
                        "price": 17424.25,
                        "type": "H"
                    },
                    {
                        "idx": 96,
                        "timestamp": 1938,
                        "price": 16678.83,
                        "type": "L"
                    },
                    {
                        "idx": 98,
                        "timestamp": 1940,
                        "price": 17360.0,
                        "type": "H"
                    },
                    {
                        "idx": 101,
                        "timestamp": 1943,
                        "price": 16871.85,
                        "type": "L"
                    },
                    {
                        "idx": 103,
                        "timestamp": 1945,
                        "price": 18387.95,
                        "type": "H"
                    },
                    {
                        "idx": 108,
                        "timestamp": 1950,
                        "price": 16256.3,
                        "type": "L"
                    },
                    {
                        "idx": 109,
                        "timestamp": 1951,
                        "price": 17061.27,
                        "type": "H"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1961,
                        "price": 16333.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1987,
                        "price": 23816.73,
                        "type": "H"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1987,
                        "price": 22300.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    96,
                    98,
                    101,
                    103,
                    108,
                    109
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    16678.83,
                    17360.0,
                    16871.85,
                    18387.95,
                    16256.3,
                    17061.27
                ],
                "overlap": true,
                "legs": {
                    "w1": 681.1699999999983,
                    "w2": 488.15000000000146,
                    "w3": 1516.1000000000022,
                    "w4": 2131.6500000000015,
                    "w5": 804.9700000000012
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 804.9700000000012,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Oct 2020",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 22907.0,
                "wave5_projection_161.8%": 22049.216
            },
            "debug": {
                "swings": [
                    {
                        "idx": 92,
                        "timestamp": 1173,
                        "price": 13195.05,
                        "type": "L"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1192,
                        "price": 18965.9,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1193,
                        "price": 17610.86,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1196,
                        "price": 19484.21,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1197,
                        "price": 16188.0,
                        "type": "L"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1202,
                        "price": 19888.0,
                        "type": "H"
                    },
                    {
                        "idx": 125,
                        "timestamp": 1206,
                        "price": 18500.0,
                        "type": "L"
                    },
                    {
                        "idx": 127,
                        "timestamp": 1208,
                        "price": 19420.91,
                        "type": "H"
                    },
                    {
                        "idx": 131,
                        "timestamp": 1212,
                        "price": 17572.33,
                        "type": "L"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1221,
                        "price": 24295.0,
                        "type": "H"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1222,
                        "price": 21815.0,
                        "type": "L"
                    },
                    {
                        "idx": 147,
                        "timestamp": 1228,
                        "price": 28422.0,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    121,
                    125,
                    127,
                    131,
                    140,
                    141
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    19888.0,
                    18500.0,
                    19420.91,
                    17572.33,
                    24295.0,
                    21815.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 1388.0,
                    "w2": 920.9099999999999,
                    "w3": 1848.579999999998,
                    "w4": 6722.669999999998,
                    "w5": 2480.0
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 1848.579999999998,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "1D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Jan 2021",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_PROGRESS",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "up"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "up"
            },
            "targets": {
                "wave5_projection_100%": 62911.34,
                "wave5_projection_161.8%": 68868.86
            },
            "debug": {
                "swings": [
                    {
                        "idx": 84,
                        "timestamp": 1257,
                        "price": 34875.0,
                        "type": "H"
                    },
                    {
                        "idx": 86,
                        "timestamp": 1259,
                        "price": 29241.72,
                        "type": "L"
                    },
                    {
                        "idx": 88,
                        "timestamp": 1261,
                        "price": 38531.9,
                        "type": "H"
                    },
                    {
                        "idx": 105,
                        "timestamp": 1278,
                        "price": 45570.79,
                        "type": "L"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1284,
                        "price": 58352.8,
                        "type": "H"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1291,
                        "price": 43000.0,
                        "type": "L"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1294,
                        "price": 52640.0,
                        "type": "H"
                    },
                    {
                        "idx": 123,
                        "timestamp": 1296,
                        "price": 46300.0,
                        "type": "L"
                    },
                    {
                        "idx": 131,
                        "timestamp": 1304,
                        "price": 61844.0,
                        "type": "H"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1307,
                        "price": 53271.34,
                        "type": "L"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1309,
                        "price": 60129.97,
                        "type": "H"
                    },
                    {
                        "idx": 143,
                        "timestamp": 1316,
                        "price": 50427.56,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    118,
                    121,
                    123,
                    131,
                    134,
                    136
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    43000.0,
                    52640.0,
                    46300.0,
                    61844.0,
                    53271.34,
                    60129.97
                ],
                "overlap": false,
                "legs": {
                    "w1": 9640.0,
                    "w2": 6340.0,
                    "w3": 15544.0,
                    "w4": 8572.660000000003,
                    "w5": 6858.630000000005
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 9640.0,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "1D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Apr 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_PROGRESS",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "up"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "up"
            },
            "targets": {
                "wave5_projection_100%": 36296.0,
                "wave5_projection_161.8%": 40925.438
            },
            "debug": {
                "swings": [
                    {
                        "idx": 97,
                        "timestamp": 1360,
                        "price": 59500.0,
                        "type": "H"
                    },
                    {
                        "idx": 108,
                        "timestamp": 1371,
                        "price": 30000.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1378,
                        "price": 40841.0,
                        "type": "H"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1382,
                        "price": 33379.0,
                        "type": "L"
                    },
                    {
                        "idx": 123,
                        "timestamp": 1386,
                        "price": 39476.0,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1391,
                        "price": 31000.0,
                        "type": "L"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1393,
                        "price": 38491.0,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1395,
                        "price": 34600.36,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 142,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    128,
                    130,
                    132,
                    135,
                    142,
                    145
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    31000.0,
                    38491.0,
                    34600.36,
                    41330.0,
                    28805.0,
                    35500.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 7491.0,
                    "w2": 3890.6399999999994,
                    "w3": 6729.639999999999,
                    "w4": 12525.0,
                    "w5": 6695.0
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 6729.639999999999,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "1D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "May 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": true,
            "current": {
                "stage": "impulse_5_complete",
                "direction": "down"
            },
            "next": {
                "stage": "corrective_A_down",
                "direction": "down"
            },
            "targets": {
                "post_impulse_retrace_38.2%": 31833.5227,
                "post_impulse_retrace_50%": 32622.925,
                "post_impulse_retrace_61.8%": 33412.3273
            },
            "debug": {
                "swings": [
                    {
                        "idx": 105,
                        "timestamp": 1398,
                        "price": 41330.0,
                        "type": "H"
                    },
                    {
                        "idx": 112,
                        "timestamp": 1405,
                        "price": 28805.0,
                        "type": "L"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1408,
                        "price": 35500.0,
                        "type": "H"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1409,
                        "price": 30151.0,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1412,
                        "price": 36600.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1415,
                        "price": 32699.0,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1417,
                        "price": 35967.85,
                        "type": "H"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1421,
                        "price": 32077.0,
                        "type": "L"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1425,
                        "price": 34678.43,
                        "type": "H"
                    },
                    {
                        "idx": 136,
                        "timestamp": 1429,
                        "price": 31020.0,
                        "type": "L"
                    },
                    {
                        "idx": 138,
                        "timestamp": 1431,
                        "price": 32435.0,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1433,
                        "price": 29278.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    132,
                    136,
                    138,
                    140
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    35967.85,
                    32077.0,
                    34678.43,
                    31020.0,
                    32435.0,
                    29278.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 3890.8499999999985,
                    "w2": 2601.4300000000003,
                    "w3": 3658.4300000000003,
                    "w4": 1415.0,
                    "w5": 3157.0
                },
                "completion_metrics": {
                    "breakout": 1742.0,
                    "motive_median": 3658.4300000000003,
                    "break_ok": true,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "1D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Sep 2021",
        "expected_kind": "IMPULSE_PROGRESS",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 53307.76,
                "wave5_projection_161.8%": 49153.564
            },
            "debug": {
                "swings": [
                    {
                        "idx": 117,
                        "timestamp": 1533,
                        "price": 57820.0,
                        "type": "L"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1534,
                        "price": 62980.0,
                        "type": "H"
                    },
                    {
                        "idx": 121,
                        "timestamp": 1537,
                        "price": 59405.0,
                        "type": "L"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1538,
                        "price": 64270.0,
                        "type": "H"
                    },
                    {
                        "idx": 126,
                        "timestamp": 1542,
                        "price": 60050.0,
                        "type": "L"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1546,
                        "price": 69000.0,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1548,
                        "price": 62278.0,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1551,
                        "price": 66401.82,
                        "type": "H"
                    },
                    {
                        "idx": 139,
                        "timestamp": 1555,
                        "price": 55600.0,
                        "type": "L"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1557,
                        "price": 60029.76,
                        "type": "H"
                    },
                    {
                        "idx": 143,
                        "timestamp": 1559,
                        "price": 55317.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1561,
                        "price": 59398.9,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    130,
                    132,
                    135,
                    139,
                    141,
                    143
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    69000.0,
                    62278.0,
                    66401.82,
                    55600.0,
                    60029.76,
                    55317.0
                ],
                "overlap": false,
                "legs": {
                    "w1": 6722.0,
                    "w2": 4123.820000000007,
                    "w3": 10801.820000000007,
                    "w4": 4429.760000000002,
                    "w5": 4712.760000000002
                },
                "completion_metrics": {
                    "breakout": 283.0,
                    "motive_median": 6722.0,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "1D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Nov 2021",
        "expected_kind": "IMPULSE_TOP",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "IMPULSE",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 36145.93,
                "wave5_projection_161.8%": 34431.5671
            },
            "debug": {
                "swings": [
                    {
                        "idx": 89,
                        "timestamp": 1566,
                        "price": 59176.99,
                        "type": "H"
                    },
                    {
                        "idx": 93,
                        "timestamp": 1570,
                        "price": 42000.3,
                        "type": "L"
                    },
                    {
                        "idx": 96,
                        "timestamp": 1573,
                        "price": 51936.33,
                        "type": "H"
                    },
                    {
                        "idx": 106,
                        "timestamp": 1583,
                        "price": 45456.0,
                        "type": "L"
                    },
                    {
                        "idx": 116,
                        "timestamp": 1593,
                        "price": 52088.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1607,
                        "price": 39650.0,
                        "type": "L"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1610,
                        "price": 44500.0,
                        "type": "H"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1611,
                        "price": 41725.95,
                        "type": "L"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1617,
                        "price": 43505.0,
                        "type": "H"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1621,
                        "price": 32917.17,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1623,
                        "price": 38919.98,
                        "type": "H"
                    },
                    {
                        "idx": 147,
                        "timestamp": 1624,
                        "price": 35507.01,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    133,
                    134,
                    140,
                    144,
                    146,
                    147
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    44500.0,
                    41725.95,
                    43505.0,
                    32917.17,
                    38919.98,
                    35507.01
                ],
                "overlap": false,
                "legs": {
                    "w1": 2774.050000000003,
                    "w2": 1779.050000000003,
                    "w3": 10587.830000000002,
                    "w4": 6002.810000000005,
                    "w5": 3412.970000000001
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 3412.970000000001,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "1D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "✅ Correct"
    },
    {
        "period": "Jan 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 34155.0,
                "wave5_projection_161.8%": 29059.589999999997
            },
            "debug": {
                "swings": [
                    {
                        "idx": 93,
                        "timestamp": 1631,
                        "price": 36250.0,
                        "type": "L"
                    },
                    {
                        "idx": 100,
                        "timestamp": 1638,
                        "price": 45821.0,
                        "type": "H"
                    },
                    {
                        "idx": 104,
                        "timestamp": 1642,
                        "price": 41550.56,
                        "type": "L"
                    },
                    {
                        "idx": 105,
                        "timestamp": 1643,
                        "price": 44751.4,
                        "type": "H"
                    },
                    {
                        "idx": 114,
                        "timestamp": 1652,
                        "price": 34322.28,
                        "type": "L"
                    },
                    {
                        "idx": 120,
                        "timestamp": 1658,
                        "price": 45400.0,
                        "type": "H"
                    },
                    {
                        "idx": 125,
                        "timestamp": 1663,
                        "price": 37155.0,
                        "type": "L"
                    },
                    {
                        "idx": 127,
                        "timestamp": 1665,
                        "price": 42594.06,
                        "type": "H"
                    },
                    {
                        "idx": 132,
                        "timestamp": 1670,
                        "price": 37555.0,
                        "type": "L"
                    },
                    {
                        "idx": 137,
                        "timestamp": 1675,
                        "price": 42400.0,
                        "type": "H"
                    },
                    {
                        "idx": 139,
                        "timestamp": 1677,
                        "price": 40467.94,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1684,
                        "price": 48189.84,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    120,
                    125,
                    127,
                    132,
                    137,
                    139
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    45400.0,
                    37155.0,
                    42594.06,
                    37555.0,
                    42400.0,
                    40467.94
                ],
                "overlap": true,
                "legs": {
                    "w1": 8245.0,
                    "w2": 5439.059999999998,
                    "w3": 5039.059999999998,
                    "w4": 4845.0,
                    "w5": 1932.0599999999977
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 5039.059999999998,
                    "break_ok": false,
                    "w5_ok": false,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "1D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Jun 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_PROGRESS",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "up"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "up"
            },
            "targets": {
                "wave5_projection_100%": 22606.9,
                "wave5_projection_161.8%": 23747.11
            },
            "debug": {
                "swings": [
                    {
                        "idx": 92,
                        "timestamp": 1781,
                        "price": 18781.0,
                        "type": "L"
                    },
                    {
                        "idx": 97,
                        "timestamp": 1786,
                        "price": 22527.37,
                        "type": "H"
                    },
                    {
                        "idx": 102,
                        "timestamp": 1791,
                        "price": 18910.94,
                        "type": "L"
                    },
                    {
                        "idx": 109,
                        "timestamp": 1798,
                        "price": 24276.74,
                        "type": "H"
                    },
                    {
                        "idx": 115,
                        "timestamp": 1804,
                        "price": 20706.5,
                        "type": "L"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1808,
                        "price": 24668.0,
                        "type": "H"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1813,
                        "price": 22400.0,
                        "type": "L"
                    },
                    {
                        "idx": 128,
                        "timestamp": 1817,
                        "price": 24245.0,
                        "type": "H"
                    },
                    {
                        "idx": 130,
                        "timestamp": 1819,
                        "price": 22664.69,
                        "type": "L"
                    },
                    {
                        "idx": 135,
                        "timestamp": 1824,
                        "price": 25211.32,
                        "type": "H"
                    },
                    {
                        "idx": 140,
                        "timestamp": 1829,
                        "price": 20761.9,
                        "type": "L"
                    },
                    {
                        "idx": 144,
                        "timestamp": 1833,
                        "price": 21900.0,
                        "type": "H"
                    }
                ],
                "window_indices": [
                    124,
                    128,
                    130,
                    135,
                    140,
                    144
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    22400.0,
                    24245.0,
                    22664.69,
                    25211.32,
                    20761.9,
                    21900.0
                ],
                "overlap": true,
                "legs": {
                    "w1": 1845.0,
                    "w2": 1580.3100000000013,
                    "w3": 2546.630000000001,
                    "w4": 4449.419999999998,
                    "w5": 1138.0999999999985
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 1845.0,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "1D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Aug 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_TOP",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "down"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "down"
            },
            "targets": {
                "wave5_projection_100%": 18735.0,
                "wave5_projection_161.8%": 17322.87
            },
            "debug": {
                "swings": [
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 19956.0,
                        "type": "H"
                    },
                    {
                        "idx": 111,
                        "timestamp": 1861,
                        "price": 18125.98,
                        "type": "L"
                    },
                    {
                        "idx": 117,
                        "timestamp": 1867,
                        "price": 20385.86,
                        "type": "H"
                    },
                    {
                        "idx": 118,
                        "timestamp": 1868,
                        "price": 18471.28,
                        "type": "L"
                    },
                    {
                        "idx": 120,
                        "timestamp": 1870,
                        "price": 20185.0,
                        "type": "H"
                    },
                    {
                        "idx": 122,
                        "timestamp": 1872,
                        "price": 18920.35,
                        "type": "L"
                    },
                    {
                        "idx": 124,
                        "timestamp": 1874,
                        "price": 20475.0,
                        "type": "H"
                    },
                    {
                        "idx": 133,
                        "timestamp": 1883,
                        "price": 18190.0,
                        "type": "L"
                    },
                    {
                        "idx": 134,
                        "timestamp": 1884,
                        "price": 19951.87,
                        "type": "H"
                    },
                    {
                        "idx": 141,
                        "timestamp": 1891,
                        "price": 18650.0,
                        "type": "L"
                    },
                    {
                        "idx": 146,
                        "timestamp": 1896,
                        "price": 21020.0,
                        "type": "H"
                    },
                    {
                        "idx": 148,
                        "timestamp": 1898,
                        "price": 20000.09,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    124,
                    133,
                    134,
                    141,
                    146,
                    148
                ],
                "window_types": [
                    "H",
                    "L",
                    "H",
                    "L",
                    "H",
                    "L"
                ],
                "window_prices": [
                    20475.0,
                    18190.0,
                    19951.87,
                    18650.0,
                    21020.0,
                    20000.09
                ],
                "overlap": true,
                "legs": {
                    "w1": 2285.0,
                    "w2": 1761.869999999999,
                    "w3": 1301.869999999999,
                    "w4": 2370.0,
                    "w5": 1019.9099999999999
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 1301.869999999999,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "1D",
            "candles": 151,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    },
    {
        "period": "Nov 2022",
        "expected_kind": "CORRECTION",
        "detected_kind": "IMPULSE_PROGRESS",
        "detected_raw": {
            "pattern": "DIAGONAL",
            "completed": false,
            "current": {
                "stage": "impulse_progress",
                "direction": "up"
            },
            "next": {
                "stage": "impulse_5_in_progress",
                "direction": "up"
            },
            "targets": {
                "wave5_projection_100%": 16937.469999999998,
                "wave5_projection_161.8%": 17358.433059999996
            },
            "debug": {
                "swings": [
                    {
                        "idx": 83,
                        "timestamp": 1925,
                        "price": 16812.63,
                        "type": "H"
                    },
                    {
                        "idx": 87,
                        "timestamp": 1929,
                        "price": 15995.27,
                        "type": "L"
                    },
                    {
                        "idx": 94,
                        "timestamp": 1936,
                        "price": 17424.25,
                        "type": "H"
                    },
                    {
                        "idx": 96,
                        "timestamp": 1938,
                        "price": 16678.83,
                        "type": "L"
                    },
                    {
                        "idx": 98,
                        "timestamp": 1940,
                        "price": 17360.0,
                        "type": "H"
                    },
                    {
                        "idx": 101,
                        "timestamp": 1943,
                        "price": 16871.85,
                        "type": "L"
                    },
                    {
                        "idx": 103,
                        "timestamp": 1945,
                        "price": 18387.95,
                        "type": "H"
                    },
                    {
                        "idx": 108,
                        "timestamp": 1950,
                        "price": 16256.3,
                        "type": "L"
                    },
                    {
                        "idx": 109,
                        "timestamp": 1951,
                        "price": 17061.27,
                        "type": "H"
                    },
                    {
                        "idx": 119,
                        "timestamp": 1961,
                        "price": 16333.0,
                        "type": "L"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1987,
                        "price": 23816.73,
                        "type": "H"
                    },
                    {
                        "idx": 145,
                        "timestamp": 1987,
                        "price": 22300.0,
                        "type": "L"
                    }
                ],
                "window_indices": [
                    96,
                    98,
                    101,
                    103,
                    108,
                    109
                ],
                "window_types": [
                    "L",
                    "H",
                    "L",
                    "H",
                    "L",
                    "H"
                ],
                "window_prices": [
                    16678.83,
                    17360.0,
                    16871.85,
                    18387.95,
                    16256.3,
                    17061.27
                ],
                "overlap": true,
                "legs": {
                    "w1": 681.1699999999983,
                    "w2": 488.15000000000146,
                    "w3": 1516.1000000000022,
                    "w4": 2131.6500000000015,
                    "w5": 804.9700000000012
                },
                "completion_metrics": {
                    "breakout": 0.0,
                    "motive_median": 804.9700000000012,
                    "break_ok": false,
                    "w5_ok": true,
                    "BREAKOUT_FACTOR": 0.3,
                    "W5_MIN_RATIO": 0.6
                }
            }
        },
        "meta": {
            "timeframe": "1D",
            "candles": 150,
            "min_swing_pct": 3.5
        },
        "result": "❌ Incorrect"
    }
]